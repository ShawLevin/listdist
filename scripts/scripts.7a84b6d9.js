"use strict";angular.module("mytodoApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/welcome.html",controller:"WelcomeCtrl"}).when("/directory",{templateUrl:"views/directory.html",controller:"DirectoryCtrl"}).when("/admin",{templateUrl:"views/admin.html",controller:"DirectoryCtrl"}).otherwise({templateUrl:"views/admin.html",controller:"DirectoryCtrl"})}]),angular.module("mytodoApp").controller("DirectoryCtrl",["$scope","$route","$location",function(a,b,c){var d=new WindowsAzure.MobileServiceClient("https://techtalks.azure-mobile.net/","ItsrWZpJYAHVaDBtBXcyelFeMHZVNN77");a.org=c.$$path,a.tag=c.$$search.tag,a.tag?(console.log("all good got a tag"),a.tagFlag=!1):(console.log("no tag so hide the add features"),document.getElementById("yesTag").style.display="none",a.tagFlag=!0),a.tags=[],a.tags.push("Loading..."),d.getTable("items").where({org:a.org}).take(100).read().done(function(b){a.$apply(function(){a.tags=[];for(var c=0;c<b.length;c++)-1==a.tags.indexOf(b[c].tag)&&a.tags.push(b[c].tag)})},function(a){alert("Error: "+a)}),d.getTable("items").where({org:a.org,tag:a.tag}).read().done(function(b){a.$apply(function(){a.items=b})},function(a){alert("Error: "+a)}),a.addList=function(){window.location.href="#"+a.org+"?tag="+a.list},a.updateSort=function(b){a.sorter=b},a.addItem=function(){var b={title:a.search.title,details:a.search.details,link:a.search.link,category:a.search.category,tag:a.tag,etc:a.search.etc,org:a.org};d.getTable("items").insert(b),a.items.push(b),a.search.title="",a.search.link="",a.search.category="",a.search.details="",a.search.etc=""}}]),angular.module("mytodoApp").controller("WelcomeCtrl",["$scope","$route","$location",function(a,b,c){var d=new WindowsAzure.MobileServiceClient("https://techtalks.azure-mobile.net/","ItsrWZpJYAHVaDBtBXcyelFeMHZVNN77");a.org=c.$$path,a.tag=c.$$search.tag,a.orgs=[],a.orgs.push("Loading..."),d.getTable("items").take(100).read().done(function(b){a.$apply(function(){a.orgs=[];for(var c=0;c<b.length;c++)-1==a.orgs.indexOf(b[c].org)&&a.orgs.push(b[c].org)})},function(a){alert("Error: "+a)}),a.newOrg=function(){window.location.href="#/"+a.norg},a.addItem=function(){var b={title:a.search.title,details:a.search.details,link:a.search.link,category:a.search.category,tag:a.tag,etc:a.search.etc,org:a.org};d.getTable("items").insert(b),a.items.push(b),a.search.title="",a.search.link="",a.search.category="",a.search.details="",a.search.etc=""}}]);